(this["webpackJsonpesape-facturation"]=this["webpackJsonpesape-facturation"]||[]).push([[0],{33:function(e,t,a){e.exports=a(75)},38:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),i=(a(38),a(18)),o=a.n(i),m=a(30),s=a(2),d=a(31),u=a(19),E=a(9),h=a.n(E),b=a(32),g=a.n(b),N=(a(74),function e(t,a,n,r,l){Object(u.a)(this,e),this.id=void 0,this.date=void 0,this.title=void 0,this.quantity=void 0,this.unitPrice=void 0,this.VATRate=void 0,this.withoutTaxAmount=void 0,this.taxAmount=void 0,this.taxIncludedAmount=void 0,this.id=g()(),this.date={from:r,to:l},this.title=t,this.quantity=a,this.unitPrice=n,this.VATRate=.2,this.withoutTaxAmount=a*n,this.taxAmount=this.withoutTaxAmount*this.VATRate,this.taxIncludedAmount=this.withoutTaxAmount+this.taxAmount}),v=function(){function e(t,a,n,r,l){Object(u.a)(this,e),this.date=void 0,this.invoiceNumber=void 0,this.client=void 0,this.services=void 0,this.paymentDate=void 0,this.invoiceNumber=t,this.date=a,this.client=n,this.services=r,this.paymentDate=l}return Object(d.a)(e,[{key:"withoutTaxTotalAmount",value:function(){return this.services.reduce((function(e,t){return e+t.withoutTaxAmount}),0)}},{key:"taxTotalAmount",value:function(){return this.services.reduce((function(e,t){return e+t.taxAmount}),0)}},{key:"taxIncludedTotalAmount",value:function(){return this.services.reduce((function(e,t){return e+t.taxIncludedAmount}),0)}}]),e}(),p=function(e){return function(e){return e-Math.floor(e)===0}(e)?"".concat(e.toLocaleString("fr-FR")):"".concat(Number(e.toFixed(2)).toLocaleString("fr-FR"))},f=function(e){return e.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})},w=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(new Date),i=Object(s.a)(c,2),d=i[0],u=i[1],E=Object(n.useState)(null),b=Object(s.a)(E,2),g=b[0],w=b[1],A=Object(n.useState)(""),y=Object(s.a)(A,2),j=y[0],x=y[1],S=Object(n.useState)([]),O=Object(s.a)(S,2),T=O[0],k=O[1],C=Object(n.useState)(""),D=Object(s.a)(C,2),I=D[0],R=D[1],L=Object(n.useState)([]),P=Object(s.a)(L,2),V=P[0],B=P[1],F=Object(n.useState)([]),M=Object(s.a)(F,2),q=M[0],J=M[1],U=Object(n.useState)(void 0),H=Object(s.a)(U,2),Q=H[0],W=H[1],G=Object(n.useState)(void 0),$=Object(s.a)(G,2),z=$[0],K=$[1],X=Object(n.useState)(""),Y=Object(s.a)(X,2),Z=Y[0],_=Y[1],ee=Object(n.useState)(""),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(""),le=Object(s.a)(re,2),ce=le[0],ie=le[1],oe=Object(n.useState)([]),me=Object(s.a)(oe,2),se=me[0],de=me[1],ue=Object(n.useState)(null),Ee=Object(s.a)(ue,2),he=Ee[0],be=Ee[1],ge=Object(n.useState)(!1),Ne=Object(s.a)(ge,2),ve=Ne[0],pe=Ne[1],fe=function(){try{var e=z||null;de(se.concat([new N(Z,Number(ae),Number(ce),Q,e)])),W(void 0),K(void 0),_(""),ne(""),ie("")}catch(t){alert(t.message)}},we=function(){try{be(new v(a,d,{name:j,intracommunautaryNumber:I,address:T.join("\n"),invoiceAddress:V.join("\n"),deliveryAddress:q.join("\n")},se,g)),pe(!0)}catch(e){alert(e.message)}};return Object(n.useEffect)((function(){if(he&&ve){window.print(),pe(!1);var e=window.localStorage.getItem("invoices"),t=e?JSON.parse(e):[];window.localStorage.setItem("invoices",JSON.stringify(t.concat([he])))}}),[he,ve]),r.a.createElement("div",{className:"App"},r.a.createElement("div",{id:"invoiceForm"},r.a.createElement("h2",null,"G\xe9n\xe9ral"),r.a.createElement("div",{className:"column generalInfo"},r.a.createElement("label",null,r.a.createElement("span",{className:"bold"},"Num\xe9ro de facture"),r.a.createElement("input",{className:"border-black border-round height-30 mono",type:"text",onChange:function(e){return l(e.target.value)},value:a})),r.a.createElement("label",null,r.a.createElement("span",{className:"bold"},"Date de la facture"),r.a.createElement(h.a,{className:"border-round border-black",onChange:function(e){return u(e instanceof Array?e[0]:e)},value:d})),r.a.createElement("label",null,r.a.createElement("span",{className:"bold"},"Date de paiement"),r.a.createElement(h.a,{className:"border-round border-black",onChange:function(e){return w(e instanceof Array?e[0]:e)},value:g||void 0}))),r.a.createElement("h2",null,"Client"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"left column flex-end"},r.a.createElement("label",null,r.a.createElement("span",{className:"bold"},"Nom"),r.a.createElement("input",{className:"border-black border-round height-30 mono",type:"text",onChange:function(e){return x(e.target.value)},value:j})),r.a.createElement("label",null,r.a.createElement("span",{className:"bold"},"N\xb0 intracommunautaire"),r.a.createElement("input",{className:"border-black border-round height-30 mono",type:"text",onChange:function(e){return R(e.target.value)},value:I}))),r.a.createElement("div",{className:"right addressBox"},r.a.createElement("label",null,r.a.createElement("span",{className:"bold"},"Adresse"),r.a.createElement("textarea",{className:"border-black border-round height-100",onChange:function(e){return k(e.target.value.split("\n"))},value:T.join("\n")})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"left addressBox"},r.a.createElement("label",null,r.a.createElement("span",{className:"bold"},"Adresse de facturation"),r.a.createElement("textarea",{className:"border-black border-round height-100",onChange:function(e){return B(e.target.value.split("\n"))},value:V.join("\n")}))),r.a.createElement("div",{className:"right addressBox"},r.a.createElement("label",null,r.a.createElement("span",{className:"bold"},"Adresse de livraison"),r.a.createElement("textarea",{className:"border-black border-round height-100",onChange:function(e){return J(e.target.value.split("\n"))},value:q.join("\n")})))),r.a.createElement("h2",null,"Prestations"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"D\xe9but"),r.a.createElement("td",null,"(Fin)"),r.a.createElement("td",null,"D\xe9signation de la prestation"),r.a.createElement("td",null,"Quantit\xe9"),r.a.createElement("td",null,"Prix unitaire"),r.a.createElement("td",null,"Action"))),r.a.createElement("tbody",null,se.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{className:"width-80"},e.date.from&&e.date.from.toLocaleDateString()),r.a.createElement("td",{className:"width-80"},e.date.to&&e.date.to.toLocaleDateString()),r.a.createElement("td",{className:"width-040"},e.title),r.a.createElement("td",{className:"align-center"},e.quantity),r.a.createElement("td",{className:"align-center"},e.unitPrice),r.a.createElement("td",null,r.a.createElement("button",{className:"removeService",onClick:function(t){t.preventDefault(),function(e){window.confirm("Es-tu s\xfbr de vouloir supprimer : ".concat(e.title," ?"))&&de(se.filter((function(t){return t.id!==e.id})))}(e)}},"-")))})),r.a.createElement("tr",null,r.a.createElement("td",{className:"width-80"},r.a.createElement(h.a,{value:Q,onChange:function(e){return W(e instanceof Array?e[0]:e)}})),r.a.createElement("td",{className:"width-80"},r.a.createElement(h.a,{value:z,onChange:function(e){return K(e instanceof Array?e[0]:e)}})),r.a.createElement("td",{className:"width-040"},r.a.createElement("input",{type:"text",className:"border-black border-round height-30 full-width font-14",value:Z,onChange:function(e){return _(e.target.value)}})),r.a.createElement("td",{className:"align-center"},r.a.createElement("input",{type:"number",className:"border-black border-round height-30 mono width-80 font-14",value:ae,onChange:function(e){return ne(e.target.value)}})),r.a.createElement("td",{className:"align-center"},r.a.createElement("input",{type:"number",className:"border-black border-round height-30 mono width-80 font-14",value:ce,onChange:function(e){return ie(e.target.value)}})),r.a.createElement("td",null,r.a.createElement("button",{id:"addService",onClick:function(e){e.preventDefault(),fe()}},"+"))))),r.a.createElement("div",{className:"footer"},r.a.createElement("button",{id:"printButton",onClick:Object(m.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:we();case 1:case"end":return e.stop()}}),e)})))},"Imprimer la facture"))),he&&r.a.createElement("div",{id:"invoicePrint"},r.a.createElement("h1",{className:"title"},"Facture"),r.a.createElement("div",{className:"generalInfo"},r.a.createElement("div",{className:"left"},r.a.createElement("div",{className:"block"},r.a.createElement("p",{className:"bold"},"ESAPE"),r.a.createElement("p",null,"6 rue de Bois-Bernard"),r.a.createElement("p",null,"62580 NEUVIREUIL")),r.a.createElement("div",{className:"block"},r.a.createElement("p",null,"SARL ESAPE"),r.a.createElement("p",null,"Au capital social de 22 500,00 euros")),r.a.createElement("div",{className:"block"},r.a.createElement("p",null,"RCS ARRAS 812.462.307"),r.a.createElement("p",null,"TVA intracommunautaire: fr 33812462307"))),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:"block"},r.a.createElement("p",{className:"align-right"},"Date : ",he.date.toLocaleDateString()),r.a.createElement("p",{className:"align-right bold"},"Facture n\xb0 ",he.invoiceNumber)))),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2,className:"nowrap border-right"},"R\xe9f\xe9rences client"),r.a.createElement("td",{className:"nowrap border-right"},"Adresse de facturation"),r.a.createElement("td",{className:"nowrap"},"Adresse de livraison"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"align-right bold"},"Nom :"),r.a.createElement("td",{className:"align-center border-right"},he.client.name),r.a.createElement("td",{rowSpan:3,className:"align-center border-right pre-line"},he.client.invoiceAddress),r.a.createElement("td",{rowSpan:3,className:"align-center pre-line"},he.client.deliveryAddress)),r.a.createElement("tr",null,r.a.createElement("td",{className:"align-right bold"},"Adresse :"),r.a.createElement("td",{className:"align-center pre-line"},he.client.address)),r.a.createElement("tr",null,r.a.createElement("td",{className:"align-right nowrap bold"},"N\xb0 intracommunautaire :"),r.a.createElement("td",{className:"align-center"},he.client.intracommunautaryNumber)))),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"border-right"},"Date"),r.a.createElement("td",{className:"border-right"},"D\xe9signation de la prestation"),r.a.createElement("td",{className:"border-right"},"Quantit\xe9"),r.a.createElement("td",{className:"border-right"},"Prix unitaire"),r.a.createElement("td",{className:"border-right"},"Taux de TVA"),r.a.createElement("td",{className:"border-right"},"Montant total HT"),r.a.createElement("td",{className:"border-right"},"Montant TVA"),r.a.createElement("td",null,"Montant TTC"))),r.a.createElement("tbody",null,he.services.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{className:"border-right"},e.date.from&&e.date.from.toLocaleDateString(),e.date.from&&e.date.to&&" au ".concat(e.date.to.toLocaleDateString())),r.a.createElement("td",{className:"border-right"},e.title),r.a.createElement("td",{className:"nowrap align-center border-right"},p(e.quantity)),r.a.createElement("td",{className:"nowrap align-center border-right"},f(e.unitPrice)),r.a.createElement("td",{className:"nowrap align-center border-right"},(t=e.VATRate,"".concat(Math.round(100*t)," %"))),r.a.createElement("td",{className:"nowrap align-right border-right"},f(e.withoutTaxAmount)),r.a.createElement("td",{className:"nowrap align-right border-right"},f(e.taxAmount)),r.a.createElement("td",{className:"nowrap align-right"},f(e.taxIncludedAmount)));var t})),r.a.createElement("tr",null,r.a.createElement("td",{className:"border-right",style:{padding:10}}),r.a.createElement("td",{className:"border-right"}),r.a.createElement("td",{className:"border-right"}),r.a.createElement("td",{className:"border-right"}),r.a.createElement("td",{className:"border-right"}),r.a.createElement("td",{className:"border-right"}),r.a.createElement("td",{className:"border-right"}),r.a.createElement("td",{className:"border-right"}))),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"nowrap border-right"},"Totaux"),r.a.createElement("td",{className:"border-right"}),r.a.createElement("td",{className:"border-right"}),r.a.createElement("td",{className:"border-right"}),r.a.createElement("td",{className:"border-right"}),r.a.createElement("td",{className:"nowrap align-right border-right"},f(he.withoutTaxTotalAmount())),r.a.createElement("td",{className:"nowrap align-right border-right"},f(he.taxTotalAmount())),r.a.createElement("td",{className:"nowrap align-right border-right"},f(he.taxIncludedTotalAmount()))))),r.a.createElement("div",{className:"maybe-page2"},r.a.createElement("div",{className:"generalInfo padding-top-24"},r.a.createElement("div",{className:"left"},r.a.createElement("table",{className:"conditions"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2},"Conditions de r\xe8glement"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"align-right"},"Date de r\xe8glement :"),r.a.createElement("td",{className:"align-center"},he.paymentDate&&he.paymentDate.toLocaleDateString())),r.a.createElement("tr",null,r.a.createElement("td",{className:"align-right"},"Mode de r\xe8glement :"),r.a.createElement("td",{className:"align-center fluf"},"Ch\xe8que ou virement")),r.a.createElement("tr",null,r.a.createElement("td",{className:"align-right"},"Conditions d'escompte :"),r.a.createElement("td",{className:"align-center"}))))),r.a.createElement("div",{className:"right"},r.a.createElement("table",{className:"toPayTable"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"bold align-right"},"Somme \xe0 payer (HT)"),r.a.createElement("td",{className:"bold align-right"},f(he.withoutTaxTotalAmount()))),r.a.createElement("tr",null,r.a.createElement("td",{className:"bold align-right"},"TVA (20 %)"),r.a.createElement("td",{className:"bold align-right"},f(he.taxTotalAmount()))),r.a.createElement("tr",null,r.a.createElement("td",{className:"bold align-right"},"Somme \xe0 payer (TTC)"),r.a.createElement("td",{className:"bold align-right"},f(he.taxIncludedTotalAmount()))))))),r.a.createElement("p",{className:"notice"},"En cas de retard, le taux d'int\xe9r\xeat des p\xe9nalit\xe9s de retard + montant de l'indemnit\xe9 forfaitaire (40\u20ac) sera applicable conform\xe9ment \xe0 l'article L.441-6, alin\xe9a 12 du Code du commerce"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.6576b566.chunk.js.map